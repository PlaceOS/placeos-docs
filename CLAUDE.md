# CLAUDE.md

This file provides guidance to Claude Code (claude.ai/code) when working with code in this repository.

## Project Overview

This is a documentation website for PlaceOS built with Astro Starlight. It serves as a centralized documentation hub for multiple PlaceOS products: Platform, Workmate, and Digital Signage.

## Development Commands

| Command | Purpose |
|---------|---------|
| `npm install` | Install dependencies |
| `npm run dev` | Start development server at localhost:4321 |
| `npm run build` | Build production site to ./dist/ |
| `npm run preview` | Preview build locally |
| `npm run add-content` | Interactive helper to add new documentation |

## Architecture

### Technology Stack
- **Astro + Starlight**: Static site generator optimized for documentation
- **Multi-documentation structure**: Separate navigation trees for each product
- **File-based routing**: Content organized in `/src/content/docs/`
- **Automatic deployment**: Netlify builds from main branch

### Content Organization
```
src/content/docs/
├── index.mdx           # Hub landing page with navigation cards
├── placeos/            # PlaceOS Platform docs
│   ├── overview/       # Architecture, concepts, protocols
│   ├── tutorials/      # Step-by-step guides
│   ├── how-to/         # Task-oriented instructions
│   └── reference/      # API docs, drivers, compliance
├── workmate/           # Employee experience app docs
└── signage/            # Digital signage docs
```

### Navigation Configuration
- All navigation is defined in `astro.config.mjs`
- Uses mix of manual items and `autogenerate` for directory-based navigation
- Each documentation set has its own navigation tree with collapsed sections

## Content Management

### Adding New Documentation
1. **Use the helper script**: `npm run add-content` (recommended)
2. **Manual process**: Create .md/.mdx file with required frontmatter, then update navigation in astro.config.mjs

### Required Frontmatter
```markdown
---
title: Page Title
description: Optional description
---
```

### Navigation Updates
- For autogenerated sections: Files appear automatically
- For manual sections: Add entries to astro.config.mjs following existing patterns:
  ```javascript
  { label: 'Page Title', slug: 'docset/section/filename' }
  ```

## File Conventions

- **No README.md files**: Use index.md instead
- **Markdown files**: Standard .md or .mdx for enhanced content
- **Images**: Place in `/public/` directory, reference with absolute paths
- **Internal links**: Use relative paths between documentation pages

## Helper Scripts

- `scripts/add-to-nav.js`: Interactive tool for contributors to add new content
- Guides users through choosing documentation set, section, and file creation
- Provides exact navigation configuration instructions

## Deployment

- **Platform**: Netlify
- **Build**: Automatic on push to main branch
- **Configuration**: netlify.toml specifies build command and publish directory
- **Live URL**: https://placeosdocs.netlify.app